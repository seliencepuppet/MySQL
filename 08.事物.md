
事务就是一段sql语句的批处理但是这个批处理是一个atom(原子),不可分割要么都执行,要么回滚（rollback）都不执行

事务的作用

1) 事物可以理解为，一系列的SQL语句的组合，这个组合是一个整体，其中任何一条SQL语句执行失败了，将会导致，其他的SQL语句也无效。这样可以保证同步性比如用户A向用户B转账100元，首先需要执行一个SQL语句从A的账户中减去100元，然后执行一个SQL语句向B的账户余额中增加100元。如果在执行完第一个SQL语句的时候，出现了意外，第二个SQL语句执行失败了，这个时候不就麻烦了吗？所以在这个时候需要用到事务了，把这两个操作放在一个事务里，任何一个操作执行失败的时候，另外一个操作也无法执行成功。

使用事务的步骤
1) 第一步初始化事务也可以说是开启一个事务
```mysql
mysql> start transaction;    
Query OK, 0 rows affected (0.00 sec)    
```
2) 第二步执行SQL语句
```mysql
mysql> insert into user values(null,'456','456',now());    
Query OK, 1 row affected (0.06 sec)    
mysql> insert into user values(null,'789','789',now());    
Query OK, 1 row affected (0.00 sec)   
```
3) 在这里执行了两条插入语句，但是这两个语句实际上还没有插入进去了,因为第三步还没有完成可以理解为这些数据暂时存放在缓存里第三步提交事务或者撤销事务(事务回滚)
```mysql
mysql> commit;    
Query OK, 0 rows affected (0.05 sec)   
```

4) 这个时候上面的插入操作才算是真正的插入到了表中  
```mysql
mysql> select * from user;    
+----+----------+----------+---------------------+    
| id | username | password | createtime          |    
+----+----------+----------+---------------------+    
|  1 | kenan    | kenan    | 2012-10-31 15:32:26 |    
|  3 | kenan    | lele     | 2012-10-31 15:32:26 |    
|  4 | lele     | lele     | NULL                |    
|  5 | 1        | 1        | NULL                |    
|  9 | 123      | 123      | 2012-11-05 18:35:02 |    
| 10 | 456      | 456      | 2012-11-05 21:16:29 |    
| 11 | 789      | 789      | 2012-11-05 21:16:40 |    
+----+----------+----------+---------------------+    
7 rows in set (0.00 sec)   

```
撤销事务用 rollback 这样的话前面的所有对数据的增删改操作都将无效
