
缓存中  存在语句的结果

InnoDB表， 事物  
	.frm：表结构
.ibd: 表空间(数据和索引)

	SHOW ENGINES

	SHOW TABLE STATUS


	程序语言连接数据的方式
	动态SQL：通过函数或方法与数据库服务器建立会话和连接，将查询语句直接发往服务器
	嵌入式SQL：


	JDBC  ODBC

	客户端：mysql  mysqladmin  mysqldump  mysqlimport  mysqlcheck

	服务器：mysqld  mysqld_safe   mysql_multi

	vim /etc/init.d/mysqld

	man mysql_safe

	mysql-binlog



	[mysqld]


	[mysqld_safe]

	[client]
	host *

	[mysql]




	查看mysql帮助命令
	mysql --help --verbose
	丢失pid

	1.mysql没有被关闭

	datadir --- /mydata/data

	hostname.err  错误日志

	1.此前服务未关闭
	2.数据初始化失败
	3.数据目录位置错误
	4.数据目录权限问题


	DBA：
	开发DBA：数据库设计， sql 语句 存储过程 存储函数  触发器
	管理DBA   安装   升级  备份  恢复  用户管理   性能分析   基准测试

	Develop with MySQL

	MySQL data Type

	MySQL Language Structure     mysql结构化查询语言

	数据类型
	数值型
	精确数值
	int
	decimal   十进制
	近似数量                
	float
	double
	real




	字符型
	定长：CHAR BINARY
	变长： WARCHAR, VARBINARY
	text， blob

	ENUM, SET

	日期时间型
	date， time， datetime， timestamp


	域属性， 修改符



	数据类型

	1.存入的值类型
	2.占据的存储空间
	3.定长还变长
	4.如何比较及排序
	5.是否能够索引

	Numeric Data Types

	TINYINT
	SMALLINT
	MEDIUMINT
	INT
	BIGINT
	DECIMAL
	FLOAT
	DOUBLE
	BIT


	日期时间型
	DATE
	TIME
	DATETIME
	TIMESTAMP
	YEAR

	SQL

	mysql> SHOW CHARACTER SET;          显示当前服务器支持的字符集
	mysql> SHOW COLLATION;              查看集合

	mysql> SHOW GLOBAL VARIABLES LIKE '%char%';

	AUTO_INCREMENT
	整型
	非空
	无符号
	主键或唯一键



	CREATE TABLE test(ID INT UNSIGNED AUTO_INCREMENT NOT NULL PRIMARY KEY, Name CHAR(20));



	SQL
	ALTER TABLE test CHANGE Couse Cource VARCHAR（50） NOT NULL;

	DEST test;

	更改表的名字

	DROP TABLE testcourses;    删除表名字

	ALTER TABLE test RENAME TO testcourses;          更改表的名字

	show tables;　　　　　　　　　　　　　　查看所拥有的表


	删除表

	InnoDB  支持外键

	DROP TABLE courses;

	HELP DROP TABLE;

	DROP TABLE courses CASCADE;    




#### 多表查询

	SELECT Cname FROM courses WHERE CID NOT IN (SELECT DISTINCT CID2 FROM students WHERE CID2 IS NOT NULL);

	什么是视图？

	视图就是存储下来的查询语句
	基于基表的查询语句

	VIEW

	CREATE VIEW   创建视图

	SHOW TBALE STATUS;         查看表的状态视图

	SHOW CREATE

	如何知道一个视图是怎样创建的？
	show create view sct;

	SHOW CREATE 

	======================================================

	命令行创建mysql
	mysql -e 'CREATE DATABASE edb;'
	mysql -e 'SHWO DATABASES;'
	mysql -e 'SELECT * FROM jiaowu.students;'


	======================================================

	多表查询：
	交叉连接
	自然连接
	WHERE tb1.field=tb2.field

	外连接
	左外
	FROM tb1 LEFT JOIN tb2 ON condition

	右外
	FROM tb1 RIGHT tb2 ON condition


	子查询：
	FROM
	WHERE
	比较操作符：子查询只能返回一个字段的单值
	IN：列表（某字段的多个值）

	===================================================================

	DELETE:
	广义查询        

	DML        
	INSERT INFO
	DELETE
	UPDATE


	INSERT INTO tb_name (col1, col2, ...) VALUES(val1, val2, ...)[,(val1, val2,...),...]

	字符型：单引号
	数值型：不需要引号
	日期时间型
	空值：NULL， '' 不为空

	===========================

	SELECT CURRENT_TIME();          查看系统当前的命令


	并发控制：
	如果两个用户同时读写数据，都会带来并发控制问题
	mbox  MDA

	C /S： 100
	10分钟

	锁：

	读锁：共享锁
	写锁：独占锁        

	锁粒度：从大到小， MySQL 服务器仅支持表级锁，行锁需要由存储引擎完成
	表锁
	页锁
	行锁

	隔离性：
	隔离级别
	READ UNCOMMITIED：读未提交
	READ COMMITTED：读提交
	REPATABLE READ： 可串行

	查看默认的隔离级别

	SHOW GLOBAL VARIABLES LIKE '%iso%';


	服务器变量：

	动态：
	全局变量   
	修改后不影响当前会话，只对新建的会话有效
	会话变量
	仅对当前会话有效，而且是立即生效的

	永久有效：修改配置文件

	修改：SET {SESSION|GLOBAL}             

	SET tx_isolation='READ-UNCOMMITTED;';

	SELECT @@tx_isolation;


	多事物同时执行，彼此之间互不影响的方式进行并行
	事物之间会进行交互
	通过数据集进行交互


	事物：CPU I/O
	RDBMS
	ACID：
	Automicity    原子性， 事物所引起的数据库操作，要么都完成，要么都不执行
	Consistency  一致性， A 3000  B 2000
	1：A 3000--2500
	2. A+B  4500

	Isolation
	事物调度，事物之间影响最小
	MVCC 多版本并发控制

	Durability：一旦事物成功完成，无论任何意外发生，都必须保证事物是可得到的
	1.事物提交之前就已经写入数据至持久性存储
	2.结合事物日志完成
	事物：顺序ID

	=============================================================

	事物的状态？
	活动的：active
	部分提交的：最后一条语句执行后叫做部分提交
	失败的
	中止的
	提交的

	事物：并发执行
	1.提高吞吐量和资源利用率
	2.减少等待时间

	事物条都
	无恢复调度
	无级联高度        


	隔离级别


	并发控制依赖的技术手段                

	饿死：
	死锁：提前检查死锁，让操作回退，释放资源            




	SQL， ODBC

	START  TANSACTION   启动一个事物
	SQL
	SQL    

	COMMIT  提交

	ROLLBACK         回滚，表示不再执行            


	select @@autocommit         自动提交事务功能


